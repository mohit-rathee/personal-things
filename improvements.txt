To improve the send message in channel: (12 ms)

why it is what it is?
    1.  Does 2 sql requests (add message, get the message_id).
    2.  Sometimes it need to do some more checks for reply.


HOW TO UPGRADE?
    We need to reduse the extra call to database.
    But then we need to know the id of a message.
    Maybe we can use the uuid their and a fallback mechanism in case of collision.
